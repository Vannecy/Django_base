<style>
.player-list {
    background-color: #f5f5f5;
    border: 1px solid #ddd;
    border-radius: 4px;
    padding: 20px;
}

.player-list h1 {
    font-size: 24px;
    margin-bottom: 10px;
}

.player-table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 10px;
}

.player-table th,
.player-table td {
    padding: 10px;
    border: 1px solid #ddd;
    text-align: center; /* Centrer le contenu du th */
}

.player-table th {
    background-color: #f0f8ff;
    font-weight: bold;
}

.player-row:hover {
    background-color: #f0f8ff;
}

.player-detail-link,
.player-trading-link {
    background-color: #3498db;
    color: white;
    padding: 5px 10px;
    border: none;
    border-radius: 4px;
    text-decoration: none;
    margin-right: 5px;
}

.no-players {
    font-style: italic;
    color: #666;
}
.player-actions {
        text-align: right;
    }

    /* Utilisation de float pour aligner les liens à droite */
    .player-actions a {
        float: right;
        margin-left: 5px; /* Espacement entre les liens */
    }
    .actions-header {
        max-width: 100px; /* Ajustez cette valeur selon vos préférences */
        white-space: nowrap; /* Empêcher le texte de se retourner à la ligne */
        overflow: hidden; /* Masquer tout contenu dépassant de la limite de largeur */
        text-overflow: ellipsis; /* Afficher des points de suspension (...) si le contenu est masqué */
    }
</style>
{% extends 'base.html' %}

{% block content %}

<div class="player-list">
    <h1>Player List</h1>
    <div class="player-search">
        <form method="get" action="{% url 'gestion:player_list' %}">
            <input type="text" name="search_name" placeholder="Search by name" value="">
            <button type="submit">Search</button>
        </form>
    </div>
    <div class="filter-buttons">
        <a href="{% url 'gestion:player_list' %}" class="filter-button">Reset Filters</a>
        <a href="{% url 'gestion:player_list' %}?sort_by=name" class="filter-button">Sort by Name</a>
        <a href="{% url 'gestion:player_list' %}?sort_by=team" class="filter-button">Sort by Team</a>
        <a href="{% url 'gestion:player_list' %}?sort_by=user" class="filter-button">Sort by User</a>
        <a href="{% url 'gestion:player_list' %}?sort_by=price" class="filter-button">Sort by Price</a>
    </div>

    {% if players %}
    <table class="player-table">
        <tr>
            <th>Name</th>
            <th>Price (euros)</th>
            <th>Team</th>
            <th>User</th>
            <th class="actions-header">Actions</th>
        </tr>
        {% for player in players %}
        <tr class="player-row">
            <td>{{ player.name }}</td>
            <td>{{ player.value }}</td>
            <td>{{ player.player_team }}</td>
            <td>{{ player.player_team.owner }}</td>
            <td class="player-actions"> <!-- Utilisation de la classe "player-actions" pour aligner les liens à droite -->
                <a href="{% url 'gestion:player_detail' player_id=player.id %}" class="player-detail-link">Detail</a>
                <a href="{% url 'gestion:propose_trading' player_id=player.id %}" class="player-trading-link">Proposer Transfert</a>
            </td>
        </tr>
        {% endfor %}
    </table>
    {% else %}
    <p class="no-players">Aucun joueur n'est disponible pour le moment.</p>
    {% endif %}
</div>

{% endblock %}



